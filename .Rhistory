update.packages("tibble")
update.packages()
install.packages("installr")
library(installr)
updateR()
shiny::runApp('F:/master/CilioGenics-website')
runApp('F:/master/CilioGenics-website')
runApp('C:/Users/phago/Desktop/ciliogenics_2021')
runApp('C:/Users/phago/Desktop/ciliogenics_2021')
runApp('C:/Users/phago/Desktop/ciliogenics_2021')
install.packages("semantic.dashboard")
runApp('C:/Users/phago/Desktop/ciliogenics_2021')
runApp('C:/Users/phago/Desktop/ciliogenics_2021')
runApp('C:/Users/phago/Desktop/ciliogenics_2021')
runApp('C:/Users/phago/Desktop/ciliogenics_2021')
runApp('C:/Users/phago/Desktop/ciliogenics_2021')
runApp('C:/Users/phago/Desktop/ciliogenics_2021')
install.packages("dashboardthemes")
runApp('C:/Users/phago/Desktop/ciliogenics_2021')
runApp('C:/Users/phago/Desktop/ciliogenics_2021')
library(shinydashboard)
library(shinydashboard)
library(shinydashboardPlus)
library(Homo.sapiens)
cls <- columns(Homo.sapiens)
cls
Homo.sapiens[GO]
Homo.sapiens
Homo.sapiens[[1]]
kts <- keytypes(Homo.sapiens)
kts
ks <- head(keys(Homo.sapiens, keytype=kts[2]))
res <- select(Homo.sapiens, keys=ks, columns=cls, keytype=kt)
kt<-kts[17]
res <- select(Homo.sapiens, keys=ks, columns=cls, keytype=kt)
cls <- columns(Homo.sapiens)
cls
cls <- cls[c(1,19,45)]
kts <- keytypes(Homo.sapiens)
kt <- kts[2]
kts
ks <- head(keys(Homo.sapiens, keytype=kts[2]))
ks
res <- select(Homo.sapiens, keys=ks, columns=cls, keytype=kt)
head(res)
xx<-select(Homo.sapiens, keys="ELMOD3", columns=c("SYMBOL","GO"), keytype="SYMBOL")
xx
xx<-select(Homo.sapiens, keys="ELMOD3", columns=c("SYMBOL","GO","REFSEQ"), keytype="SYMBOL")
xx
shiny::runApp('F:/master/CilioGenics-website')
go_anno = suppressMessages(select("Homo.sapiens", keys=genes, columns=c("SYMBOL","GO"), keytype="SYMBOL"))
go_anno = go_anno[!is.na(go_anno[,2]), 1:2]
library(Homo.sapiens)
go_anno = suppressMessages(select("Homo.sapiens", keys=genes, columns=c("SYMBOL","GO"), keytype="SYMBOL"))
go_anno = go_anno[!is.na(go_anno[,2]), 1:2]
go_anno = suppressMessages(select("Homo.sapiens", keys="ELMOD3", columns=c("SYMBOL","GO"), keytype="SYMBOL"))
go_anno = go_anno[!is.na(go_anno[,2]), 1:2]
go_anno = suppressMessages(select(Homo.sapiens, keys="ELMOD3", columns=c("SYMBOL","GO"), keytype="SYMBOL"))
go_anno = go_anno[!is.na(go_anno[,2]), 1:2]
go_anno = select(Homo.sapiens, keys="ELMOD3", columns=c("SYMBOL","GO"), keytype="SYMBOL")
go_anno = go_anno[!is.na(go_anno[,2]), 1:2]
cls <- columns(Homo.sapiens)
cls
cls <- cls[c(1,19,45)]
kts <- keytypes(Homo.sapiens)
kt <- kts[2]
kts
ks <- head(keys(Homo.sapiens, keytype=kts[2]))
ks
res <- select(Homo.sapiens, keys=ks, columns=cls, keytype=kt)
head(res)
library(Homo.sapiens)
cls <- columns(Homo.sapiens)
cls
cls <- cls[c(1,19,45)]
kts <- keytypes(Homo.sapiens)
kt <- kts[2]
kts
ks <- head(keys(Homo.sapiens, keytype=kts[2]))
ks
res <- select(Homo.sapiens, keys=ks, columns=cls, keytype=kt)
head(res)
go_anno = suppressMessages(select(get(database), keys="ELMOD3", columns=c("SYMBOL","GO"), keytype="SYMBOL"))
go_anno = go_anno[!is.na(go_anno[,2]), 1:2]
go_anno = suppressMessages(select(Homo.sapiens, keys="ELMOD3", columns=c("SYMBOL","GO"), keytype="SYMBOL"))
go_anno = go_anno[!is.na(go_anno[,2]), 1:2]
go_anno
go_anno1 = suppressMessages(select(Homo.sapiens, keys="ELMOD3", columns=c("SYMBOL","GO"), keytype="SYMBOL"))
go_anno1
cls
cls <- columns(Homo.sapiens)
cls
go_anno1 = suppressMessages(select(Homo.sapiens, keys="ELMOD3", columns=c("SYMBOL","GO","ONTOLOGY"), keytype="SYMBOL"))
go_anno1 = suppressMessages(select(Homo.sapiens, keys="ELMOD3", columns=c("SYMBOL","GO","ONTOLOGYALL"), keytype="SYMBOL"))
go_anno1
go_anno1 = suppressMessages(select(Homo.sapiens, keys="ELMOD3", columns=c("SYMBOL","GO","TERM"), keytype="SYMBOL"))
go_anno1
go_anno1 = suppressMessages(select(Homo.sapiens, keys="WDR31", columns=c("SYMBOL","GO","TERM"), keytype="SYMBOL"))
go_anno1
library(shiny)
length(go_anno1)
length(go_anno1[[1]])
runApp('F:/master/CilioGenics-website')
library(Homo.sapiens)
shiny::runApp('F:/master/CilioGenics-website')
getOption("repos")
bioc <- local({
env <- new.env()
on.exit(rm(env))
evalq(source("http://bioconductor.org/biocLite.R", local = TRUE), env)
biocinstallRepos()
})
bioc <- local({
env <- new.env()
on.exit(rm(env))
evalq(source("http://bioconductor.org/BiocManager.R", local = TRUE), env)
biocinstallRepos()
})
BiocManager::repositories()
runApp('F:/master/CilioGenics-website')
publications<-fread("./data/publications.csv")
setwd("F:/master/CilioGenics-website")
publications<-fread("./data/publications.csv")
publ<-read_xlsx("./data/Publications.xlsx")
View(publ)
View(publications)
length(unique(publications$Gene_name))
pub_mat<-matrix(nrow = 12269, ncol = 54)
pub_mat[,1]<-unique(publications$Gene_name)
pub_mat<-matrix(nrow = 12269, ncol = 55)
pub_mat[,1]<-unique(publications$Gene_name)
pub_mat<-as.data.frame(pub_mat)
View(pub_mat)
pub_mat<-pub_mat[-1,]
colnames(pub_mat)<-unique(publications$Publication)
View(pub_mat)
publications$Gene_name[publications$Publication %in% colnames(pub_mat)[2]]
publications$Gene_name[publications$Publication %in% colnames(pub_mat)[3]]
pub_mat
for (i in 2:55){
a<-publications$Gene_name[publications$Publication %in% colnames(pub_mat)[i]]
pub_mat[pub_mat[[1]] %in% a, i]<-1
}
View(pub_mat)
is.na(pub_mat)<-0
pub_mat<-matrix(nrow = 12269, ncol = 55)
pub_mat[,1]<-unique(publications$Gene_name)
pub_mat<-as.data.frame(pub_mat)
pub_mat<-pub_mat[-1,]
colnames(pub_mat)<-unique(publications$Publication)
for (i in 2:55){
a<-publications$Gene_name[publications$Publication %in% colnames(pub_mat)[i]]
pub_mat[pub_mat[[1]] %in% a, i]<-1
pub_mat[!(pub_mat[[1]] %in% a), i]<-0
}
View(pub_mat)
pub_mat<-matrix(nrow = 12269, ncol = 55)
pub_mat[,1]<-unique(publications$Gene_name)
pub_mat<-as.data.frame(pub_mat)
pub_mat<-pub_mat[-1,]
colnames(pub_mat)[2:55]<-unique(publications$Publication)
for (i in 2:55){
a<-publications$Gene_name[publications$Publication %in% colnames(pub_mat)[i]]
pub_mat[pub_mat[[1]] %in% a, i]<-1
pub_mat[!(pub_mat[[1]] %in% a), i]<-0
}
View(pub_mat)
View(pub_mat)
library(iheatmapr)
?iheatmap
main_heatmap(as.matrix(pub_mat[,-1]))
class(pub_mat$`Lauwaet T. et al.`)
pub_mat<-matrix(nrow = 12269, ncol = 55)
pub_mat[,1]<-unique(publications$Gene_name)
pub_mat<-as.data.frame(pub_mat)
pub_mat<-pub_mat[-1,]
colnames(pub_mat)[2:55]<-unique(publications$Publication)
for (i in 2:55){
a<-publications$Gene_name[publications$Publication %in% colnames(pub_mat)[i]]
pub_mat[pub_mat[[1]] %in% a, i]<-1
pub_mat[!(pub_mat[[1]] %in% a), i]<-0
pub_mat[,i]<-as.numeric(pub_mat[,i])
}
main_heatmap(as.matrix(pub_mat[,-1]))
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]))
?main_heatmap
layout(autosize = F, width = 500, height = 50)
layout(width = 500, height = 50)
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = layout(width = 500, height = 50))
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 500, height = 50))
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 500, height = 100))
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 500, height = 100))
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 500, height = 150))
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 600, height = 150))
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 600, height = 75))
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 600, height = 95))
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 600, height = 100))
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 600, height = 105))
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 600, height = 120))
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 600, height = 115))
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 600, height = 115)) %>%
add_col_labels(size = 0.46,font = list(family = c("open_sansregular"), size = 12), textangle=90)%>%
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 600, height = 115)) %>%
add_col_labels(size = 0.46,font = list(family = c("open_sansregular"), size = 12), textangle=90)
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 600, height = 115)) %>%
add_col_labels(size = 0.46,font = list(family = c("open_sansregular"), size = 12), textangle=90)
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 600, height = 115)) %>%
add_col_labels(size = 0.6,font = list(family = c("open_sansregular"), size = 12), textangle=90)
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 600, height = 115)) %>%
add_col_labels(size = 1,font = list(family = c("open_sansregular"), size = 12), textangle=90)
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 600, height = 125)) %>%
add_col_labels(size = 1,font = list(family = c("open_sansregular"), size = 12), textangle=90)
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 1000, height = 150)) %>%
add_col_labels(size = 1,font = list(family = c("open_sansregular"), size = 12), textangle=90)
?add_col_labels
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 1000, height = 150)) %>%
add_col_labels(size = 1,font = list(family = c("open_sansregular"), size = 12), textangle=90, side = "top")
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 1000, height = 150)) %>%
add_col_labels(size = 1,font = list(family = c("open_sansregular"), size = 12), textangle=135, side = "top")
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 1000, height = 150)) %>%
add_col_labels(size = 1,font = list(family = c("open_sansregular"), size = 12), textangle=45, side = "top")
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 1000, height = 150)) %>%
add_col_labels(size = 2,font = list(family = c("open_sansregular"), size = 12), textangle=45, side = "top")
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 1000, height = 150)) %>%
add_col_labels(size = 2,font = list(family = c("open_sansregular"), size = 12), textangle=90, side = "top")
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 1000, height = 150)) %>%
add_col_labels(size = 4,font = list(family = c("open_sansregular"), size = 12), textangle=90, side = "top")
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 1000, height = 150)) %>%
add_col_labels(size = 10,font = list(family = c("open_sansregular"), size = 12), textangle=90, side = "top")
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 1000, height = 150)) %>%
add_col_labels(size = 2,font = list(family = c("open_sansregular"), size = 12), textangle=90, side = "top")
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 1000, height = 150)) %>%
add_col_labels(size = 2,font = list(family = c("open_sansregular"), size = 10), textangle=90, side = "top")
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 1000, height = 150)) %>%
add_col_labels(size = 2,font = list(family = c("open_sansregular"), size = 10), textangle=180, side = "top")
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 1000, height = 150)) %>%
add_col_labels(size = 2,font = list(family = c("open_sansregular"), size = 10), textangle=270, side = "top")
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 1200, height = 300)) %>%
add_col_labels(size = 2,font = list(family = c("open_sansregular"), size = 10), textangle=270, side = "top")
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 1200, height = 250)) %>%
add_col_labels(size = 2,font = list(family = c("open_sansregular"), size = 10), textangle=270, side = "top")
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 1200, height = 250)) %>%
add_col_labels(size = 2,font = list(family = c("open_sansregular"), size = 12), textangle=270, side = "top")
?main_heatmap
pub_mat_long<-pivot_longer(pub_mat, 2:55, names_to = "Genes", values_to = "Value")
View(pub_mat_long)
pub_mat_long<-pivot_longer(pub_mat, 2:55, names_to = "Publications", values_to = "Value")
p <- ggplot(pub_mat_long, aes(publications, V1)) +
geom_tile(aes(fill = Value),colour = "white") +
scale_fill_gradient(low = "white", high = "steelblue")
library(ggplot2)
p <- ggplot(pub_mat_long, aes(publications, V1)) +
geom_tile(aes(fill = Value),colour = "white") +
scale_fill_gradient(low = "white", high = "steelblue")
p
pub_mat_long$Value<-as.factor(pub_mat_long$Value)
p <- ggplot(pub_mat_long, aes(publications, V1)) +
geom_tile(aes(fill = Value),colour = "white") +
scale_fill_gradient(low = "white", high = "steelblue")
p
class(pub_mat_long$Value)
levels(pub_mat_long$Value)
p <- ggplot(pub_mat_long, aes(publications, V1)) +
#geom_tile(aes(fill = Value),colour = "white") +
scale_fill_gradient(low = "white", high = "steelblue")
p
x <- LETTERS[1:20]
y <- paste0("var", seq(1,20))
data <- expand.grid(X=x, Y=y)
data$Z <- runif(400, 0, 5)
# Heatmap
ggplot(data, aes(X, Y, fill= Z)) +
geom_tile()
View(data)
# Heatmap
ggplot(data, aes(X, Y)) +
geom_tile(aes(fill = Z), colour = "white")+
scale_fill_gradient(low = "white", high = "steelblue")
View(data)
data$Z <- c(rep(1, 100),rep(2,300))
# Heatmap
ggplot(data, aes(X, Y)) +
geom_tile(aes(fill = Z), colour = "white")+
scale_fill_gradient(low = "white", high = "steelblue")
class(data)
class(pub_mat_long)
pub_mat_long<-pivot_longer(pub_mat, 2:55, names_to = "Publications", values_to = "Value")
class(pub_mat_long$V1)
class(pub_mat_long$Publications)
class(pub_mat_long$Value)
class(data$X)
class(data$Y)
pub_mat_long$V1<-as.factor(pub_mat_long$V1)
pub_mat_long$Publications<-as.factor(pub_mat_long$Publications)
pub_mat_long<-data.frame(pub_mat_long)
class(pub_mat_long)
ggplot(pub_mat_long, aes(publications, V1)) +
geom_tile(aes(fill = Value),colour = "white") +
scale_fill_gradient(low = "white", high = "steelblue")
class(data$Z)
class(pub_mat_long$V1)
class(pub_mat_long$Publications)
class(pub_mat_long$Value)
# Heatmap
ggplot(data, aes(X, Y)) +
geom_tile(aes(fill = Z), colour = "white")+
scale_fill_gradient(low = "white", high = "steelblue")
levels(data$X)
levels(data$Y)
levels(pub_mat_long$Publications)
ggplot(pub_mat_long[pub_mat_long$V1 == "ELMOD3",], aes(publications, V1)) +
geom_tile(aes(fill = Value),colour = "white") +
scale_fill_gradient(low = "white", high = "steelblue")
rlang::last_error()
rlang::last_trace()
pub_mat_long<-pivot_longer(pub_mat, 2:55, names_to = "Publications", values_to = "Valuess")
pub_mat_long$V1<-as.factor(pub_mat_long$V1)
pub_mat_long$Publications<-as.factor(pub_mat_long$Publications)
pub_mat_long<-data.frame(pub_mat_long)
colnames(pub_mat_long)[1]<-"Gene_name"
ggplot(pub_mat_long[pub_mat_long$V1 == "ELMOD3",], aes(publications, Gene_name)) +
geom_tile(aes(fill = Value),colour = "white") +
scale_fill_gradient(low = "white", high = "steelblue")
ggplot(pub_mat_long[pub_mat_long$V1 == "ELMOD3",], aes(publications, Gene_name)) +
geom_tile(aes(fill = Valuess),colour = "white") +
scale_fill_gradient(low = "white", high = "steelblue")
ggplot(pub_mat_long[pub_mat_long$V1 == "ELMOD3",], aes(Publications, Gene_name)) +
geom_tile(aes(fill = Valuess),colour = "white") +
scale_fill_gradient(low = "white", high = "steelblue")
ggplot(pub_mat_long, aes(Publications, Gene_name)) +
geom_tile(aes(fill = Valuess),colour = "white") +
scale_fill_gradient(low = "white", high = "steelblue")
ggplot(pub_mat_long[pub_mat_long$Gene_name == "ELMOD3",], aes(Publications, Gene_name)) +
geom_tile(aes(fill = Valuess),colour = "white") +
scale_fill_gradient(low = "white", high = "steelblue")
ggplot(pub_mat_long[pub_mat_long$Gene_name == "ELMOD3",], aes(Publications, Gene_name)) +
geom_tile(aes(fill = Valuess),colour = "black") +
scale_fill_gradient(low = "white", high = "steelblue")
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 1200, height = 250)) %>%
add_col_labels(size = 2,font = list(family = c("open_sansregular"), size = 12), textangle=270, side = "top")
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 1200, height = 250)) %>%
add_col_labels(size = 3,font = list(family = c("open_sansregular"), size = 12), textangle=270, side = "top")
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 1200, height = 220)) %>%
add_col_labels(size = 3,font = list(family = c("open_sansregular"), size = 12), textangle=270, side = "top")
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 1200, height = 220)) %>%
add_col_labels(size = 4,font = list(family = c("open_sansregular"), size = 12), textangle=270, side = "top")
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 1200, height = 230)) %>%
add_col_labels(size = 4,font = list(family = c("open_sansregular"), size = 12), textangle=270, side = "top")
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 1200, height = 250)) %>%
add_col_labels(size = 5,font = list(family = c("open_sansregular"), size = 12), textangle=270, side = "top")
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == "ELMOD3",-1]),
layout = list(width = 1200, height = 240)) %>%
add_col_labels(size = 5,font = list(family = c("open_sansregular"), size = 12), textangle=270, side = "top")
runApp()
runApp()
output$pubheatmap<-renderIheatmap({
main_heatmap(as.matrix(pub_mat[pub_mat$V1 == genename(),-1]),
layout = list(width = 1200, height = 240, xaxis = list(showline = TRUE, gridcolor = toRGB("gray50")))) %>%
add_col_labels(size = 5,font = list(family = c("open_sansregular"), size = 12), textangle=270, side = "top")
})
runApp()
h
